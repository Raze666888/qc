# ç®¡ç†å‘˜ç«¯æ ¸å¿ƒåŠŸèƒ½å®ç°è¯´æ˜

## æ¦‚è¿°
æœ¬æ¬¡å®ç°äº†ç®¡ç†å‘˜ç«¯çš„5ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼ŒåŒ…å«å®Œæ•´çš„å‰åç«¯ä»£ç ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œä½¿ç”¨ã€‚

## åŠŸèƒ½æ¨¡å—åˆ—è¡¨

### 1. ä¸ªäººä¸­å¿ƒæ¨¡å— âœ…

**åŠŸèƒ½æè¿°ï¼š**
- ç®¡ç†å‘˜ç™»å½•åå¯ä¿®æ”¹è‡ªå·±çš„è´¦å·ä¿¡æ¯ï¼ˆç”¨æˆ·åã€å¯†ç ã€æ‰‹æœºå·ã€é‚®ç®±ç­‰ï¼‰
- æ”¯æŒä¿¡æ¯å›æ˜¾ã€è¡¨å•æ ¡éªŒã€ä¿®æ”¹æˆåŠŸ/å¤±è´¥æç¤º

**åç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`AdminController.java`
- APIæ¥å£ï¼š
  - `GET /admin/profile` - è·å–ç®¡ç†å‘˜ä¿¡æ¯
  - `PUT /admin/profile` - æ›´æ–°ç®¡ç†å‘˜ä¿¡æ¯
  - `PUT /admin/password` - ä¿®æ”¹å¯†ç 

**å‰ç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`src/views/admin/AdminProfile.vue`
- åŠŸèƒ½ç‰¹æ€§ï¼š
  - Tabé¡µåˆ‡æ¢ï¼ˆåŸºæœ¬ä¿¡æ¯ / ä¿®æ”¹å¯†ç ï¼‰
  - è¡¨å•éªŒè¯ï¼ˆæ‰‹æœºå·æ ¼å¼ã€é‚®ç®±æ ¼å¼ã€å¯†ç é•¿åº¦ï¼‰
  - åŸå¯†ç éªŒè¯
  - ä¿®æ”¹æˆåŠŸåè‡ªåŠ¨é€€å‡ºç™»å½•

**è·¯ç”±åœ°å€ï¼š** `/admin/profile`

---

### 2. ç”¨æˆ·ç®¡ç†æ¨¡å— âœ…

**åŠŸèƒ½æè¿°ï¼š**
- ç®¡ç†æ‰€æœ‰ç”¨æˆ·ï¼Œæ”¯æŒåˆ†é¡µæŸ¥è¯¢
- æ¡ä»¶ç­›é€‰ï¼ˆç”¨æˆ·å/æ‰‹æœºå·ï¼‰
- ç”¨æˆ·çŠ¶æ€åˆ‡æ¢ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰
- åˆ é™¤ç”¨æˆ·

**åç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`AdminController.java` + `AdminService.java`
- APIæ¥å£ï¼š
  - `GET /admin/users` - åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
  - `PUT /admin/user/status` - æ›´æ–°ç”¨æˆ·çŠ¶æ€

**å‰ç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`src/views/admin/AdminUserManage.vue`
- åŠŸèƒ½ç‰¹æ€§ï¼š
  - åˆ†é¡µå±•ç¤ºç”¨æˆ·åˆ—è¡¨
  - å…³é”®è¯æœç´¢ï¼ˆæ”¯æŒç”¨æˆ·åã€æ˜µç§°ã€æ‰‹æœºå·ï¼‰
  - ä¸€é”®å¯ç”¨/ç¦ç”¨ç”¨æˆ·
  - çŠ¶æ€æ ‡ç­¾æ˜¾ç¤º

**è·¯ç”±åœ°å€ï¼š** `/admin/user-manage`

---

### 3. é—®å·ç®¡ç†æ¨¡å— âœ…

**åŠŸèƒ½æè¿°ï¼š**
- ç®¡ç†æ‰€æœ‰é—®å·
- æ”¯æŒå‘å¸ƒ/ä¸‹æ¶é—®å·
- æŸ¥çœ‹é—®å·åŸºæœ¬ä¿¡æ¯å’Œé—®å·å†…å®¹
- æ”¯æŒå…³é”®è¯æœç´¢ã€çŠ¶æ€ç­›é€‰ã€å®¡æ ¸çŠ¶æ€ç­›é€‰
- åˆ é™¤é—®å·

**åç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`AdminQuestionnaireController.java` + `QuestionnaireService.java`
- APIæ¥å£ï¼š
  - `GET /admin/questionnaires` - åˆ†é¡µæŸ¥è¯¢é—®å·åˆ—è¡¨
  - `GET /admin/questionnaires/{id}` - è·å–é—®å·è¯¦æƒ…
  - `PUT /admin/questionnaires/{id}/status` - å‘å¸ƒ/ä¸‹æ¶é—®å·
  - `DELETE /admin/questionnaires/{id}` - åˆ é™¤é—®å·

**å‰ç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`src/views/admin/AdminQuestionnaireManage.vue`
- åŠŸèƒ½ç‰¹æ€§ï¼š
  - åˆ†é¡µå±•ç¤ºé—®å·åˆ—è¡¨
  - å¤šæ¡ä»¶ç­›é€‰ï¼ˆå…³é”®è¯ã€çŠ¶æ€ã€å®¡æ ¸çŠ¶æ€ï¼‰
  - æŸ¥çœ‹é—®å·è¯¦æƒ…ï¼ˆå¼¹çª—å±•ç¤ºå®Œæ•´ä¿¡æ¯ï¼‰
  - å‘å¸ƒ/ä¸‹æ¶é—®å·ï¼ˆçŠ¶æ€åˆ‡æ¢ï¼‰
  - åˆ é™¤é—®å·ï¼ˆä»…è‰ç¨¿å’Œå·²æš‚åœå¯åˆ é™¤ï¼‰

**è·¯ç”±åœ°å€ï¼š** `/admin/questionnaire-manage`

---

### 4. é—®å·é€‰é¡¹æ•°æ®ç»Ÿè®¡æ¨¡å— âœ…

**åŠŸèƒ½æè¿°ï¼š**
- ç»Ÿè®¡æŒ‡å®šé—®å·å„é€‰é¡¹çš„é€‰æ‹©äººæ•°ã€å æ¯”
- å¯è§†åŒ–å±•ç¤ºï¼ˆé¥¼å›¾ + è¿›åº¦æ¡ï¼‰
- æ”¯æŒæ•°æ®è¡¨æ ¼å±•ç¤º

**åç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`AdminQuestionnaireController.java` + `StatisticsService.java`
- APIæ¥å£ï¼š
  - `GET /admin/questionnaires/{id}/statistics` - è·å–é—®å·ç»Ÿè®¡æ•°æ®

**å‰ç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`src/views/admin/AdminQuestionnaireStatistics.vue`
- åŠŸèƒ½ç‰¹æ€§ï¼š
  - ä¸‹æ‹‰é€‰æ‹©é—®å·
  - åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯ï¼ˆé—®å·æ ‡é¢˜ã€æ€»ç­”å·æ•°ï¼‰
  - EChartsé¥¼å›¾å¯è§†åŒ–
  - æ•°æ®è¡¨æ ¼å±•ç¤ºï¼ˆåºå·ã€é€‰é¡¹å†…å®¹ã€é€‰æ‹©äººæ•°ã€å æ¯”ï¼‰
  - è¿›åº¦æ¡å¯è§†åŒ–å æ¯”
  - è‡ªåŠ¨è®¡ç®—åˆè®¡

**è·¯ç”±åœ°å€ï¼š** `/admin/questionnaire-statistics`

---

### 5. ç”¨æˆ·ç«¯è½®æ’­å›¾ç®¡ç†æ¨¡å— âœ…

**åŠŸèƒ½æè¿°ï¼š**
- ç®¡ç†ç”¨æˆ·ç«¯é¦–é¡µçš„è½®æ’­å›¾
- æ”¯æŒæ–°å¢ã€ç¼–è¾‘ã€åˆ é™¤è½®æ’­å›¾
- æ”¯æŒå¯ç”¨/ç¦ç”¨è½®æ’­å›¾
- æ”¯æŒæ’åº

**åç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`BannerController.java` + `BannerService.java`
- APIæ¥å£ï¼š
  - `GET /admin/banners` - åˆ†é¡µæŸ¥è¯¢è½®æ’­å›¾åˆ—è¡¨
  - `GET /admin/banners/{id}` - è·å–è½®æ’­å›¾è¯¦æƒ…
  - `POST /admin/banners` - åˆ›å»ºè½®æ’­å›¾
  - `PUT /admin/banners/{id}` - æ›´æ–°è½®æ’­å›¾
  - `DELETE /admin/banners/{id}` - åˆ é™¤è½®æ’­å›¾
  - `PUT /admin/banners/{id}/toggle` - åˆ‡æ¢è½®æ’­å›¾çŠ¶æ€
  - `GET /admin/banners/active` - è·å–æ‰€æœ‰å¯ç”¨çš„è½®æ’­å›¾ï¼ˆå…¬å¼€æ¥å£ï¼‰

**æ•°æ®åº“è¡¨ï¼š**
- è¡¨åï¼š`sys_banner`
- å­—æ®µï¼šid, title, description, image_url, link_url, order_num, status, create_time, update_time, deleted

**å‰ç«¯å®ç°ï¼š**
- æ–‡ä»¶ä½ç½®ï¼š`src/views/admin/AdminBannerManage.vue`
- åŠŸèƒ½ç‰¹æ€§ï¼š
  - åˆ†é¡µå±•ç¤ºè½®æ’­å›¾åˆ—è¡¨
  - å›¾ç‰‡é¢„è§ˆ
  - æ–°å¢/ç¼–è¾‘è½®æ’­å›¾ï¼ˆè¡¨å•éªŒè¯ï¼‰
  - ä¸€é”®å¯ç”¨/ç¦ç”¨
  - åˆ é™¤è½®æ’­å›¾
  - å›¾ç‰‡URLé¢„è§ˆåŠŸèƒ½

**è·¯ç”±åœ°å€ï¼š** `/admin/banner-manage`

---

## æŠ€æœ¯æ ˆ

### åç«¯
- Spring Boot
- MyBatis Plus
- MySQL
- JWTè®¤è¯

### å‰ç«¯
- Vue 3 (Composition API)
- Element Plus
- Vue Router
- Axios
- ECharts (ç»Ÿè®¡å›¾è¡¨)

## æ–‡ä»¶ç»“æ„

### åç«¯æ–‡ä»¶

```
qc-backend/src/main/java/com/qc/
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ AdminController.java              # ç®¡ç†å‘˜æ§åˆ¶å™¨ï¼ˆä¸ªäººä¸­å¿ƒã€ç”¨æˆ·ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ AdminQuestionnaireController.java # ç®¡ç†å‘˜é—®å·ç®¡ç†æ§åˆ¶å™¨
â”‚   â””â”€â”€ BannerController.java             # è½®æ’­å›¾ç®¡ç†æ§åˆ¶å™¨
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ AdminService.java                 # ç®¡ç†å‘˜æœåŠ¡
â”‚   â”œâ”€â”€ QuestionnaireService.java         # é—®å·æœåŠ¡ï¼ˆæ–°å¢ç®¡ç†å‘˜æ–¹æ³•ï¼‰
â”‚   â”œâ”€â”€ StatisticsService.java            # ç»Ÿè®¡æœåŠ¡ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ BannerService.java                # è½®æ’­å›¾æœåŠ¡ï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ UserService.java                  # ç”¨æˆ·æœåŠ¡ï¼ˆæ–°å¢ä¿®æ”¹å¯†ç æ–¹æ³•ï¼‰
â”œâ”€â”€ entity/
â”‚   â””â”€â”€ Banner.java                       # è½®æ’­å›¾å®ä½“ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ mapper/
â”‚   â””â”€â”€ BannerMapper.java                 # è½®æ’­å›¾Mapperï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ dto/
â”‚   â””â”€â”€ BannerDTO.java                    # è½®æ’­å›¾DTOï¼ˆæ–°å¢ï¼‰
â””â”€â”€ vo/
    â”œâ”€â”€ BannerVO.java                     # è½®æ’­å›¾VOï¼ˆæ–°å¢ï¼‰
    â”œâ”€â”€ QuestionnaireDetailVO.java        # é—®å·è¯¦æƒ…VOï¼ˆæ–°å¢ï¼‰
    â”œâ”€â”€ StatisticsVO.java                 # ç»Ÿè®¡VOï¼ˆæ–°å¢ï¼‰
    â”œâ”€â”€ QuestionStatisticsVO.java         # é—®é¢˜ç»Ÿè®¡VOï¼ˆæ–°å¢ï¼‰
    â”œâ”€â”€ OptionStatisticsVO.java           # é€‰é¡¹ç»Ÿè®¡VOï¼ˆæ–°å¢ï¼‰
    â”œâ”€â”€ QuestionVO.java                   # é—®é¢˜VO
    â””â”€â”€ OptionVO.java                     # é€‰é¡¹VO
```

### å‰ç«¯æ–‡ä»¶

```
qc-front/src/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ adminApi.js                       # ç®¡ç†å‘˜APIï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ views/admin/
â”‚   â”œâ”€â”€ AdminProfile.vue                  # ä¸ªäººä¸­å¿ƒï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ AdminUserManage.vue               # ç”¨æˆ·ç®¡ç†ï¼ˆå·²å­˜åœ¨ï¼‰
â”‚   â”œâ”€â”€ AdminQuestionnaireManage.vue      # é—®å·ç®¡ç†ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ AdminQuestionnaireStatistics.vue  # é—®å·ç»Ÿè®¡ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ AdminBannerManage.vue             # è½®æ’­å›¾ç®¡ç†ï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ AdminIndex.vue                    # ç®¡ç†å‘˜å¸ƒå±€ï¼ˆå·²æ›´æ–°ï¼‰
â””â”€â”€ router/
    â””â”€â”€ index.js                          # è·¯ç”±é…ç½®ï¼ˆå·²æ›´æ–°ï¼‰
```

## ä½¿ç”¨è¯´æ˜

### 1. æ•°æ®åº“åˆå§‹åŒ–

è½®æ’­å›¾è¡¨å·²è‡ªåŠ¨åˆ›å»ºï¼Œå¦‚éœ€æ‰‹åŠ¨åˆ›å»ºï¼š

```bash
mysql -u root -p questionnaire_db < qc-backend/src/main/resources/db/banner_schema.sql
```

### 2. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd qc-backend
mvn spring-boot:run
```

### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd qc-front
npm install
npm run serve
```

### 4. ç™»å½•ç®¡ç†å‘˜è´¦å·

- è´¦å·ï¼š`17836900831`
- å¯†ç ï¼š`aa111111`
- ç™»å½•åè®¿é—®ï¼š`http://localhost:8080/admin`

## èœå•å¯¼èˆª

ç®¡ç†å‘˜åå°å·¦ä¾§èœå•å·²æ›´æ–°ï¼ŒåŒ…å«ä»¥ä¸‹èœå•é¡¹ï¼š

1. **ä»ªè¡¨ç›˜** - æ•°æ®æ¦‚è§ˆ
2. **ä¸ªäººä¸­å¿ƒ** - ç®¡ç†å‘˜ä¿¡æ¯ç®¡ç†
3. **ç”¨æˆ·ç®¡ç†** - ç”¨æˆ·ä¿¡æ¯ç®¡ç†
4. **é—®å·ç®¡ç†** - é—®å·å‘å¸ƒç®¡ç†
5. **é—®å·ç»Ÿè®¡** - é—®å·æ•°æ®ç»Ÿè®¡åˆ†æ
6. **è½®æ’­å›¾ç®¡ç†** - é¦–é¡µè½®æ’­å›¾é…ç½®
7. **é—®å·å®¡æ ¸** - é—®å·å®¡æ ¸ï¼ˆåŸæœ‰åŠŸèƒ½ï¼‰
8. **ç§¯åˆ†å…‘æ¢å®¡æ ¸** - ç§¯åˆ†å…‘æ¢å®¡æ ¸ï¼ˆåŸæœ‰åŠŸèƒ½ï¼‰

## åŠŸèƒ½ç‰¹æ€§

### ç»Ÿä¸€ç‰¹æ€§
- âœ… å®Œæ•´çš„CRUDæ“ä½œ
- âœ… è¡¨å•éªŒè¯å’Œé”™è¯¯æç¤º
- âœ… åˆ†é¡µæŸ¥è¯¢æ”¯æŒ
- âœ… æ¡ä»¶ç­›é€‰æ”¯æŒ
- âœ… çŠ¶æ€æ ‡ç­¾å±•ç¤º
- âœ… æ“ä½œç¡®è®¤å¯¹è¯æ¡†
- âœ… æˆåŠŸ/å¤±è´¥æç¤º
- âœ… å“åº”å¼å¸ƒå±€
- âœ… æƒé™éªŒè¯

### ç‰¹è‰²åŠŸèƒ½
- ğŸ“Š ç»Ÿè®¡æ¨¡å—ä½¿ç”¨EChartsé¥¼å›¾å¯è§†åŒ–
- ğŸ–¼ï¸ è½®æ’­å›¾æ”¯æŒå›¾ç‰‡é¢„è§ˆ
- ğŸ” å¯†ç ä¿®æ”¹æ”¯æŒåŸå¯†ç éªŒè¯
- ğŸ“ é—®å·è¯¦æƒ…å¼¹çª—å®Œæ•´å±•ç¤º
- ğŸ”„ å®æ—¶çŠ¶æ€åˆ‡æ¢

## æ³¨æ„äº‹é¡¹

1. **æƒé™éªŒè¯**ï¼šæ‰€æœ‰ç®¡ç†å‘˜æ¥å£éƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ˆrole=1ï¼‰
2. **é€»è¾‘åˆ é™¤**ï¼šé—®å·å’Œè½®æ’­å›¾ä½¿ç”¨é€»è¾‘åˆ é™¤ï¼ˆdeletedå­—æ®µï¼‰
3. **å›¾ç‰‡å­˜å‚¨**ï¼šè½®æ’­å›¾å½“å‰ä½¿ç”¨URLæ–¹å¼ï¼Œå»ºè®®åç»­å¯¹æ¥OSS
4. **ç»Ÿè®¡åŠŸèƒ½**ï¼šä»…ç»Ÿè®¡é€‰æ‹©é¢˜ï¼ˆå•é€‰ã€å¤šé€‰ï¼‰ï¼Œæ–‡æœ¬é¢˜ä¸å‚ä¸ç»Ÿè®¡
5. **å¯†ç åŠ å¯†**ï¼šä½¿ç”¨MD5åŠ å¯†ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨BCrypt

## åç»­ä¼˜åŒ–å»ºè®®

1. æ·»åŠ å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼ˆOSSé›†æˆï¼‰
2. å¯¼å‡ºç»Ÿè®¡æ•°æ®Excel
3. æ‰¹é‡æ“ä½œåŠŸèƒ½
4. æ“ä½œæ—¥å¿—è®°å½•
5. å®æ—¶æ•°æ®åˆ·æ–°
6. æ›´ä¸°å¯Œçš„å›¾è¡¨ç±»å‹ï¼ˆæŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾ç­‰ï¼‰

---

## å®Œæˆæ—¶é—´

2025-12-28

## å¼€å‘è€…

Claude Code AI Assistant
